<app-header></app-header>
<div id="ibody">
    <div class="middle-content">
        <div id="rapp" class="containers">
            <div class="in-page-header">
                <h3 class="box-title">RAJAN <small>- </small></h3>
            </div>
            <section class="content">
                <div class="fbox">
                    <div class="fbox-left">
                        <div class="ilmenu2" style="text-align: center;">
                            <ul>
                                <li *ngFor="let stage of workflow.stages;let index=index;"
                                [ngClass]="{
                                    'open':index==activestage?true:false
                                }"
                                (click)="changeStage(index)"
                                >
                                    <a>
                                        {{stage.name}}
                                        <i class="{{productService.icons[stage.name]}}"></i>
                                    </a>
                                    <ul *ngIf="index==activestage?true:false">
                                        <li class="" *ngFor="let group of stage.form.groups;let i = index;"
                                        >
                                            <a  (click)="changeflow(index,i)"
                                            [ngClass]="{
                                                'active':i===activeflow?true:false
                                            }"
                                            >
                                                {{group.name}}
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="fbox-right">
                        <form [formGroup]="form">
                            <div class="container">
                                <div class="row justify-content-start">
                                    <div  *ngFor="let field of currentflow.fields" class="col-md-{{field.span?field.span:4}} form-group">
                                        <div [ngSwitch]="field.type">
                                            <div *ngSwitchCase="'string'">
                                                <div class="ifield">
                                                    <label class="labelclass" *ngIf="formcontrols[field.field_name].value?true:false">{{field.label}}</label><br>
                                                    <input type="text" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name">
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'textbox'">
                                                <div class="ifield">
                                                    <label class="labelclass" *ngIf="formcontrols[field.field_name].value?true:false">{{field.label}}</label><br>
                                                    <textarea name="" id="" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name"></textarea>
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'number'">
                                                <div class="ifield">
                                                    <label class="labelclass" *ngIf="formcontrols[field.field_name].value?true:false">{{field.label}}</label><br>
                                                    <input type="number" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name">
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'checkbox'">
                                                <div class="ifield">
                                                    <br><br>
                                                    <input type="checkbox" [name]="field.field_name" [formControlName]="field.field_name"><label style="color: rgb(112, 112, 112);padding-left: 5px;">{{field.label}}</label>
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'file'">
                                                <div class="ifield">
                                                    <label class="labelclass">{{field.label}}</label><br>
                                                    <label class="label">
                                                        <input type="file" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name"/>
                                                        <span>Upload Plugine</span>
                                                    </label>
                                                    <!-- <input type="file" > -->
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'button'">
                                                <div class="ifield">
                                                    <label class="labelclass" style="color: white;">.</label><br>
                                                    <button class="ibtn" style="margin-top:10px;">{{field.label}}</button>
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'lookup'">
                                                <div class="ifield">
                                                    <label class="labelclass" *ngIf="formcontrols[field.field_name].value?true:false">{{field.label}}</label><br>
                                                    <select id="" [name]="field.field_name" [formControlName]="field.field_name">
                                                        <option value="" disabled selected hidden>{{field.label}}</option>
                                                        <option  *ngFor="let data of field.options;" value="{{data.value}}">{{data.name}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'date'">
                                                <div class="ifield">
                                                    <label class="labelclass" *ngIf="formcontrols[field.field_name].value?true:false">{{field.label}}</label><br>
                                                    <input type="date" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name">
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'faicon'">
                                                <div class="ifield">
                                                    <label class="labelclass">{{field.label}}</label><br>
                                                    <i class="{{faicon}} fs-2" (click)="iconclick()"></i>
                                                    <input type="text" [placeholder]="field.label" [name]="field.field_name" [formControlName]="field.field_name" [(ngModel)]="faicon" style="display: none;">
                                                </div>
                                            </div>
                                            <div *ngSwitchCase="'checkboxmulti'">

                                            </div>
                                            <div *ngSwitchCase="'productpublish'">
                                                
                                            </div>

                                        </div>
                                    </div>
                                    <div class="iconstable" *ngIf="icontable">
                                        <div class="box" *ngFor="let iconclass of global.bootstrapIcons">
                                            <i [class]="iconclass+' fs-6'" (click)="changeIcon(iconclass)"></i>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div>
                                        <button class="ibtn" (click)="submit()">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

